import{d as f,r as d,u as h,h as b,i as x,f as v,c as w,a as e,j as m,k as g,v as _,w as y,m as S,e as L,p as k,g as V,_ as $}from"./index-BTRhpm9M.js";const I={class:"mb-4 relative"},M=e("label",{for:"email",class:"block text-gray-700 mb-1"},"Email",-1),B={class:"flex items-center border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-primary"},D={class:"mb-4 relative"},U=e("label",{for:"password",class:"block text-gray-700 mb-1"},"Password",-1),j={class:"flex items-center border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-primary"},q=e("button",{type:"submit",class:"w-full bg-primary text-white p-3 rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary"}," Login ",-1),C=f({__name:"UserLoginForm",emits:["loginSuccess"],setup(r,{emit:o}){const s=d({email:"",password:""}),n=h(),l=b(),c=o,t=async()=>{var i;try{console.log("Form Data:",s.value),await n.login(s.value),c("loginSuccess"),l.setMessage("You are now logged in.","success")}catch(a){alert("Login failed"),console.error("Login failed:",((i=a.response)==null?void 0:i.data)||a.message)}};return(i,a)=>{const p=x("font-awesome-icon");return v(),w("form",{onSubmit:y(t,["prevent"])},[e("div",I,[M,e("div",B,[m(p,{icon:"envelope",class:"w-5 h-5 text-primary mx-3"}),g(e("input",{"onUpdate:modelValue":a[0]||(a[0]=u=>s.value.email=u),type:"email",id:"email",class:"w-full p-3 pl-10 pr-3 focus:outline-none rounded-lg",required:"",autocomplete:"email"},null,512),[[_,s.value.email]])])]),e("div",D,[U,e("div",j,[m(p,{icon:"lock",class:"w-5 h-5 text-primary mx-3"}),g(e("input",{"onUpdate:modelValue":a[1]||(a[1]=u=>s.value.password=u),type:"password",id:"password",class:"w-full p-3 pl-10 pr-3 focus:outline-none rounded-lg",required:"",autocomplete:"current-password"},null,512),[[_,s.value.password]])])]),q],32)}}}),E=r=>(k("data-v-357eaf31"),r=r(),V(),r),F={class:"font-sans min-h-screen bg-gray-100"},N={class:"flex items-center justify-center mt-8"},P={class:"bg-white p-8 rounded-lg shadow-md w-full max-w-md"},R=E(()=>e("h1",{class:"text-3xl font-bold mb-6 text-primary"},"Login",-1)),T=f({__name:"LoginView",setup(r){const o=h(),s=d(o.getUsername),n=d(o.getUser),l=L(),c=()=>{s.value=o.getUsername,n.value=o.getUser,l.push({name:"Dashboard"})};return S(()=>o.user,t=>{s.value=(t==null?void 0:t.username)||null,n.value=t||null}),(t,i)=>(v(),w("div",F,[e("div",N,[e("div",P,[R,m(C,{onLoginSuccess:c})])])]))}}),z=$(T,[["__scopeId","data-v-357eaf31"]]);export{z as default};
