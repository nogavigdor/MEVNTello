import{d as u,u as m,q as y,r as v,s as c,o as x,i as f,f as t,c as o,F as k,b,a as e,t as n,j as h,x as w,y as T}from"./index-BTRhpm9M.js";import{u as j}from"./taskStore-DyCY44CC.js";const $={class:"p-8"},S={key:0},C={key:1},F={key:0,class:"space-y-4"},P={class:"flex justify-between items-center"},V={class:"text-lg font-medium"},N={key:1,class:"text-gray-600"},U=u({__name:"CloseToOverdueTasks",setup(p){const d=m(),r=j();y();const l=v(!0);c(()=>{var s;return(s=d.user)==null?void 0:s._id});const i=c(()=>r.getCloseToOverdueTasks()),_=s=>r.getProjectIdForTask(s);return c(()=>_),x(async()=>{try{await r.fetchAllTasks()}catch(s){s.value="Failed to load tasks. Please try again later.",console.error(s)}finally{l.value=!1}}),(s,E)=>{const g=f("router-link");return t(),o("div",$,[l.value?(t(),o("div",S,"Loading...")):(t(),o("div",C,[i.value.length>0?(t(),o("ul",F,[(t(!0),o(k,null,b(i.value,a=>(t(),o("li",{key:a._id,class:"p-4 bg-white rounded-lg shadow"},[e("div",P,[e("div",null,[e("p",V,n(a.name),1),e("p",null,"Hours Used: "+n(a.hoursUsed)+" / "+n(a.hoursAllocated),1)]),h(g,{to:`/projects/${_(a._id)}`,class:"text-primary hover:underline"},{default:w(()=>[T(" View Project ")]),_:2},1032,["to"])])]))),128))])):(t(),o("p",N,"No tasks are close to being overdue."))]))])}}}),A={class:"flex min-h-screen bg-gray-100"},B={class:"flex-1 p-8"},D=e("h1",{class:"text-2xl font-bold text-primary mb-4"},"Dashboard",-1),L={class:"space-y-4"},O=e("div",{class:"p-4 bg-white rounded-lg shadow"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Welcome back!"),e("p",{class:"text-gray-600"},"Here's what's happening with your projects today:")],-1),H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I={class:"p-4 bg-white rounded-lg shadow"},Y=e("h3",{class:"font-semibold text-gray-900"},"Upcoming Tasks",-1),q=e("div",{class:"p-4 bg-white rounded-lg shadow"},[e("h3",{class:"font-semibold text-gray-900"},"Recent Activity"),e("p",{class:"text-gray-600"},'You updated "Project XYZ" an hour ago.')],-1),W=u({__name:"DashboardView",setup(p){return(d,r)=>(t(),o("div",A,[e("div",B,[D,e("div",L,[O,e("div",H,[e("div",I,[Y,h(U)]),q])])])]))}});export{W as default};
